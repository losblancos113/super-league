(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{334:function(t,e,n){"use strict";n.d(e,"a",function(){return l}),n.d(e,"b",function(){return o});n(53);var r=n(8),d=n(20),l=function(t,e){e&&(console.log("Start update player"),d.a.collection("players").doc(t).set(e).then(function(){console.log("Add or update player sucess")}).catch(function(t){console.error("Error writing player: ",t)}))},o=function(){var t=Object(r.a)(regeneratorRuntime.mark(function t(e){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.a.collection("teams").doc(e).collection("players").get();case 2:return n=t.sent,t.abrupt("return",n.docs.map(function(t){return{id:t.id,data:t.data()}}));case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},346:function(t,e,n){"use strict";n.r(e);n(34),n(33),n(17),n(53);var r=n(8),d=n(20),l=n(334),o={data:function(){return{dialog:!1,editedIndex:-1,editedItem:{id:"",data:{name:"",kit_number:0}},defaultItem:{id:"",data:{name:"",kit_number:0}},max3chars:function(t){return t.length<=3||"Input too long!"},tableHeaders:[{text:"#",align:"left",sortable:!1},{text:"Name",align:"left",sortable:!1,value:"name"},{text:"Kit Number",value:"kit_number"}]}},computed:{formTitle:function(){return-1===this.editedIndex?"New Item":"Edit Item"}},watch:{dialog:function(t){t||this.close()}},asyncData:function(){var t=Object(r.a)(regeneratorRuntime.mark(function t(e){var n,r,data;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.app,e.params,e.error,n=d.a.collection("players"),t.prev=2,t.next=5,n.get();case 5:if(!((r=t.sent).size>0)){t.next=10;break}return data=[],t.next=10,r.forEach(function(t){var e=t.data();data.push({id:t.id,data:{name:e.name,kit_number:e.kit_number}})});case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(2),console.error(t.t0);case 15:return t.abrupt("return",{data:data});case 16:case"end":return t.stop()}},t,null,[[2,12]])}));return function(e){return t.apply(this,arguments)}}(),methods:{editItem:function(t){this.editedIndex=this.data.indexOf(t),this.editedItem=Object.assign({},t),this.dialog=!0},deleteItem:function(t){var e=this.data.indexOf(t);confirm("Are you sure you want to delete this item?")&&this.data.splice(e,1)},close:function(){var t=this;this.dialog=!1,setTimeout(function(){t.editedItem=Object.assign({},t.defaultItem),t.editedIndex=-1},300)},save:function(){this.editedIndex>-1?Object.assign(this.data[this.editedIndex],this.editedItem):this.data.push(this.editedItem),Object(l.a)(this.editedItem.id,this.editedItem.data),this.close()}}},c=n(24),component=Object(c.a)(o,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-layout",{attrs:{column:"","justify-center":"","align-center":""}},[n("v-flex",{attrs:{xs12:"",sm8:"",md6:""}},[n("div",{staticClass:"xs10 md12 lg12 offset-xs1"},[n("v-toolbar",{attrs:{flat:"",color:"white"}},[n("v-toolbar-title",[t._v("Player")]),t._v(" "),n("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),t._v(" "),n("v-spacer"),t._v(" "),n("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[n("v-btn",{staticClass:"mb-2",attrs:{slot:"activator",color:"primary",dark:""},slot:"activator"},[t._v("New Item")]),t._v(" "),n("v-card",[n("v-card-title",[n("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),t._v(" "),n("v-card-text",[n("v-container",{attrs:{"grid-list-md":""}},[n("v-layout",{attrs:{wrap:""}},[n("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[n("v-text-field",{attrs:{label:"Id"},model:{value:t.editedItem.id,callback:function(e){t.$set(t.editedItem,"id",e)},expression:"editedItem.id"}})],1),t._v(" "),n("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[n("v-text-field",{attrs:{label:"Name"},model:{value:t.editedItem.data.name,callback:function(e){t.$set(t.editedItem.data,"name",e)},expression:"editedItem.data.name"}})],1),t._v(" "),n("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[n("v-text-field",{attrs:{label:"Kit Number"},model:{value:t.editedItem.data.kit_number,callback:function(e){t.$set(t.editedItem.data,"kit_number",e)},expression:"editedItem.data.kit_number"}})],1)],1)],1)],1),t._v(" "),n("v-card-actions",[n("v-spacer"),t._v(" "),n("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:t.close}},[t._v("Cancel")]),t._v(" "),n("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:t.save}},[t._v("Save")])],1)],1)],1)],1),t._v(" "),n("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.tableHeaders,items:t.data},scopedSlots:t._u([{key:"items",fn:function(e){return[n("td",[t._v(t._s(e.index+1))]),t._v(" "),n("td",[t._v(t._s(e.item.data.name))]),t._v(" "),n("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.data.kit_number))]),t._v(" "),n("td",{staticClass:"justify-center layout px-0"},[n("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(n){return t.editItem(e.item)}}},[t._v("\n              edit\n            ")]),t._v(" "),n("v-icon",{attrs:{small:""},on:{click:function(n){return t.deleteItem(e.item)}}},[t._v("\n              delete\n            ")])],1)]}}])})],1)])],1)},[],!1,null,null,null);e.default=component.exports}}]);